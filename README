
This is a java library (API) for the YubiHSM, http://yubico.com/yubihsm

DON'T USE THIS CODE IN PRODUCTION! ITS STILL WORK IN PROGRESS.

Requirements:
- RXTX, a native lib providing serial and parallel communication for the Java Development Toolkit (JDK),
  http://rxtx.qbang.org/wiki/index.php/Main_Page



How to build
------------

$ mvn package

to skip tests (tests require a YubiHSM configured in 'debug' mode):

$ mvn -Dmaven.test.skip=true package


Usage
-----

Build the javadoc to get the API documentation.

$ mvn javadoc:javadoc


Code example
------------

int timeout = 1; // Serial read timeout in seconds (not fully implemented yet)
int keyHandle = 12337; // The key to use in the YubiHSM (0x3031)
String mySecret = "qwerty";

// Instance of YubiHSM
YubiHSM hsm = new YubiHSM("/dev/ttyACM0", timeout);

// Generate HmacSHA1 for mySecret
String sha1 = hsm.generateHMACSHA1(mySecret, keyHandle, true, false).get("hash");